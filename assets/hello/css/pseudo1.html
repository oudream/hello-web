<!DOCTYPE html>
<html>
<head>
</head>
<body>

<div class="body-wrapper" style="font-family: 'Open Sans Light',Helvetica,Arial,sans-serif;">
    <h2>HTML Input</h2>
    <textarea id="code" class="html-input" style="width: 90%;height: 10em;padding: 10px;border: 1px solid #0095dd;"><ul>
  <li><a href="#">United Kingdom</a></li>
  <li><a href="#">Germany</a></li>
  <li><a href="#">Finland</a></li>
  <li><a href="#">Russia</a></li>
  <li><a href="#">Spain</a></li>
  <li><a href="#">Poland</a></li>
</ul></textarea>

    <h2>CSS Input</h2>
    <textarea id="code" class="css-input" style="width: 90%;height: 10em;padding: 10px;border: 1px solid #0095dd;">ul {
  padding: 0;
}

li {
  padding: 3px;
  margin-bottom: 5px;
  list-style-type: none;
}

a {
  text-decoration: none;
  color: black;
}

 {
  text-decoration: underline;
  color: red;
}

 {
  background-color: #ccc;
}

 {
  background-color: #eee;
}</textarea>

    <h2>Output</h2>
    <div class="output" style="width: 90%;height: 10em;padding: 10px;border: 1px solid #0095dd;overflow:auto;"></div>
    <div class="controls">
        <input id="reset" type="button" value="Reset" style="margin: 10px 10px 0 0;">
        <input id="solution" type="button" value="Show solution" style="margin: 10px 0 0 10px;">
    </div>
</div>


<script type="text/javascript">
    var htmlInput = document.querySelector(".html-input");
    var cssInput = document.querySelector(".css-input");
    var reset = document.getElementById("reset");
    var htmlCode = htmlInput.value;
    var cssCode = cssInput.value;
    var output = document.querySelector(".output");
    var solution = document.getElementById("solution");

    var styleElem = document.createElement('style');
    var headElem = document.querySelector('head');
    headElem.appendChild(styleElem);

    function drawOutput() {
        output.innerHTML = htmlInput.value;
        styleElem.textContent = cssInput.value;
    }

    reset.addEventListener("click", function () {
        htmlInput.value = htmlCode;
        cssInput.value = cssCode;
        drawOutput();
    });

    solution.addEventListener("click", function () {
        htmlInput.value = htmlCode;
        cssInput.value = 'ul {\n  padding: 0;\n}\n\nli {\n  padding: 3px;\n  margin-bottom: 5px;\n  list-style-type: none;\n}\n\na {\n  text-decoration: none;\n  color: black;\n}\n\na:hover {\n  text-decoration: underline;\n  color: red;\n}\n\nli:nth-of-type(2n) {\n  background-color: #ccc;\n}\n\nli:nth-of-type(2n+1) {\n  background-color: #eee;\n}';
        drawOutput();
    });

    htmlInput.addEventListener("input", drawOutput);
    cssInput.addEventListener("input", drawOutput);
    window.addEventListener("load", drawOutput);
</script>

</body>
</html>